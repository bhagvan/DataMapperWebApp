<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Hello World using Backbone.js</title>
</head>
<body>
<!-- ========= -->
<!-- Your HTML -->
<!-- ========= -->

<div id="container">Loading...</div>

<!-- ========= -->
<!-- Libraries -->
<!-- ========= -->
<script src="../assets/lib/jQuery/jquery-3.1.0.js" type="text/javascript"></script>
<script src="../assets/lib/underscore/underscore_1.8.3.js" type="text/javascript"></script>
<script src="../assets/lib/backbone/backbone_1.3.3.js" type="text/javascript"></script>


<!-- =============== -->
<!-- Javascript code -->
<!-- =============== -->
<script type="text/javascript">
    function addChild(data, cur, newAt, newVal) {
        var sch = data;
        Object.keys(data).some(function (k) {
            if (k === cur) {
                var cod = "\"" + k + "\":" + JSON.stringify(data[k]) + "";
                var str = JSON.stringify(data);
                str = str.replace(/\s+/g, '');//remove whitespace
                var arr = str.split(cod);
                cod += ",\"" + newAt + "\":" + JSON.stringify(newVal);
                sch = JSON.parse(arr[0] + cod + arr[1]);
                return;
            }

        });
        return sch;
    }
    var me = {
        name: "myname",
        net: {
            prop: "ere",
            fef: ["fff", "eee", "www"],
        },
        age: "myage",
        bday: "mybday"
    };

    var sss = addChild(me["net"], "prop", "newAt", "value");
    console.log(sss);
    me["net"] = sss;
    //    me["nnn"] = "kkk";
    var newMe = {
        name: "myname",
        age: "myage",
        newAt: "newAttr",
        bday: "mybday"
    }
    console.log(me);
    var A;
    ppView = Backbone.View.extend({
        // el - stands for element. Every view has an element associated with HTML content, will be rendered.
        el: '#container',

        template: _.template("<h3>Hello <%= who %> efgh </h3>"),
        // It's the first function called when this view is instantiated.
        initialize: function () {
            this.render();
        },
        // $el - it's a cached jQuery object (el), in which you can use jQuery functions to push content. Like the Hello TutorialsPoint in this case.
        render: function () {
            this.$el.html(this.template({who: 'abcd'}));
        }
    });

    var appView = new AppView();
</script>

</body>
</html>